<svg width="512" height="512" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Main gradient for background -->
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#8B5CF6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#EC4899;stop-opacity:1" />
    </linearGradient>
    
    <!-- Piggy bank gradient -->
    <linearGradient id="piggyGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#F8FAFC;stop-opacity:1" />
    </linearGradient>
    
    <!-- Sparkle gradient -->
    <linearGradient id="sparkleGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FBBF24;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#F97316;stop-opacity:1" />
    </linearGradient>
    
    <!-- Shadow filter -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="8" stdDeviation="16" flood-color="#3B82F6" flood-opacity="0.25"/>
    </filter>
    
    <!-- Inner shadow for depth -->
    <filter id="innerShadow" x="-50%" y="-50%" width="200%" height="200%">
      <feOffset dx="0" dy="2"/>
      <feGaussianBlur stdDeviation="4" result="offset-blur"/>
      <feFlood flood-color="#000000" flood-opacity="0.1"/>
      <feComposite in2="offset-blur" operator="in"/>
    </filter>
  </defs>
  
  <!-- Background rounded rectangle with gradient -->
  <rect width="512" height="512" rx="128" ry="128" fill="url(#bgGradient)" filter="url(#shadow)"/>
  
  <!-- Subtle overlay for depth -->
  <rect width="512" height="512" rx="128" ry="128" fill="url(#innerShadow)" opacity="0.1"/>
  
  <!-- Main piggy bank icon -->
  <g transform="translate(256, 256)">
    <!-- Piggy bank body -->
    <ellipse cx="0" cy="10" rx="80" ry="60" fill="url(#piggyGradient)" stroke="none"/>
    
    <!-- Piggy bank head -->
    <ellipse cx="-45" cy="-10" rx="35" ry="30" fill="url(#piggyGradient)" stroke="none"/>
    
    <!-- Snout -->
    <ellipse cx="-70" cy="-8" rx="12" ry="8" fill="url(#piggyGradient)" stroke="none"/>
    
    <!-- Nostrils -->
    <circle cx="-75" cy="-12" r="2" fill="#94A3B8"/>
    <circle cx="-75" cy="-4" r="2" fill="#94A3B8"/>
    
    <!-- Eye -->
    <circle cx="-55" cy="-20" r="4" fill="#1E293B"/>
    
    <!-- Ear -->
    <path d="M -35 -35 Q -25 -45 -15 -35 Q -25 -25 -35 -35" fill="url(#piggyGradient)"/>
    
    <!-- Legs -->
    <rect x="-60" y="55" width="12" height="20" rx="6" fill="url(#piggyGradient)"/>
    <rect x="-30" y="55" width="12" height="20" rx="6" fill="url(#piggyGradient)"/>
    <rect x="20" y="55" width="12" height="20" rx="6" fill="url(#piggyGradient)"/>
    <rect x="50" y="55" width="12" height="20" rx="6" fill="url(#piggyGradient)"/>
    
    <!-- Tail -->
    <path d="M 75 0 Q 90 -10 85 5 Q 80 15 75 0" fill="url(#piggyGradient)"/>
    
    <!-- Coin slot -->
    <rect x="-8" y="-25" width="16" height="3" rx="1.5" fill="#64748B"/>
    
    <!-- Highlight on body for 3D effect -->
    <ellipse cx="-20" cy="-5" rx="25" ry="15" fill="rgba(255,255,255,0.3)"/>
  </g>
  
  <!-- Sparkle in top right -->
  <g transform="translate(400, 112)">
    <path d="M 0 -12 L 3 -3 L 12 0 L 3 3 L 0 12 L -3 3 L -12 0 L -3 -3 Z" fill="url(#sparkleGradient)" filter="url(#shadow)"/>
  </g>
  
  <!-- Small sparkle in bottom left -->
  <g transform="translate(112, 400)">
    <path d="M 0 -8 L 2 -2 L 8 0 L 2 2 L 0 8 L -2 2 L -8 0 L -2 -2 Z" fill="url(#sparkleGradient)" opacity="0.8"/>
  </g>
  
  <!-- Additional small sparkles for magic effect -->
  <circle cx="150" cy="150" r="3" fill="rgba(255,255,255,0.8)"/>
  <circle cx="380" cy="200" r="2" fill="rgba(255,255,255,0.6)"/>
  <circle cx="320" cy="380" r="2.5" fill="rgba(255,255,255,0.7)"/>
  
  <!-- Subtle glow overlay -->
  <rect width="512" height="512" rx="128" ry="128" fill="url(#bgGradient)" opacity="0.1"/>
</svg>